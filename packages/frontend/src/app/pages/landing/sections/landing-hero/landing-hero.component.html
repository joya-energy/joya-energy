<section class="hero">
  <div class="hero__container">
    <div class="hero__grid">
      <div class="hero__left">
        <h1 class="hero__title">
          L'énergie solaire,<br />
          <span class="hero__title-rotating">
            <span class="hero__title-word">{{ displayedText() }}</span>
            <span class="hero__title-cursor">|</span>
          </span>
        </h1>

        <p class="hero__subtitle">
          Adoptez l'énergie solaire et réduisez vos factures jusqu'à 40 %, sans avancer un centime.
        </p>

        <ul class="hero__features">
          <li class="hero__feature">
            <ng-icon name="lucideCheck" class="hero__feature-icon" />
            <span>0 investissement initial</span>
          </li>
          <li class="hero__feature">
            <ng-icon name="lucideCheck" class="hero__feature-icon" />
            <span>Audit & simulation en 48h</span>
          </li>
          <li class="hero__feature">
            <ng-icon name="lucideCheck" class="hero__feature-icon" />
            <span>Installation et maintenance incluses</span>
          </li>
        </ul>

        <div class="hero__actions">
          <a class="hero__btn hero__btn--primary" href="/audit-solaire">Estimer mon potentiel</a>
          <a class="hero__btn hero__btn--outline" href="/prendre-rendez-vous"
            >Parler à un conseiller</a
          >
        </div>

        <div class="hero__info">
          <ng-icon name="lucideClock" class="hero__info-icon" />
          <span>Audit gratuit • Réponse en 48h • Sans engagement</span>
        </div>
      </div>

      <div class="hero__right">
        <div class="hero-card">
          <div class="hero-card__tabs" role="tablist" aria-label="hero tabs">
            <button
              type="button"
              class="hero-card__tab"
              role="tab"
              [class.is-active]="activeTab() === 'roi'"
              [attr.aria-selected]="activeTab() === 'roi'"
              (click)="setTab('roi')"
            >
              Retour sur investissement
            </button>
            <button
              type="button"
              class="hero-card__tab"
              role="tab"
              [class.is-active]="activeTab() === 'comparison'"
              [attr.aria-selected]="activeTab() === 'comparison'"
              (click)="setTab('comparison')"
            >
              Comparaison des coûts
            </button>
          </div>

          <div class="hero-card__panel-wrapper" @fadeSlide>
            @if (activeTab() === 'roi') {
            <div class="hero-card__panel hero-card__panel--fixed-height">
              <div class="hero-card__chart" aria-label="ROI chart placeholder">
                <svg
                  viewBox="0 0 400 200"
                  class="hero-card__svg"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g stroke="#e5e7eb" stroke-width="1">
                    @for (i of horizontalLines; track i) {
                    <line x1="0" [attr.y1]="i * 50" x2="400" [attr.y2]="i * 50" />
                    } @for (i of verticalLines; track i) {
                    <line [attr.x1]="i * 50" y1="0" [attr.x2]="i * 50" y2="200" />
                    }
                  </g>
                  <path
                    d="M0,100 C50,95 100,85 150,70 C200,55 250,35 300,10 C350,-15 400,-30 400,-30"
                    stroke="#64748b"
                    stroke-width="2.5"
                    fill="none"
                  />
                  <path
                    d="M0,150 C50,120 100,100 150,90 C200,85 250,80 300,80 C350,80 400,80 400,80"
                    stroke="var(--landing-primary)"
                    stroke-width="2.5"
                    fill="none"
                  />
                  <circle cx="120" cy="120" r="5" fill="var(--landing-secondary)" />
                  <line
                    x1="120"
                    y1="0"
                    x2="120"
                    y2="200"
                    stroke="var(--landing-secondary)"
                    stroke-width="1"
                    stroke-dasharray="4,4"
                    opacity="0.5"
                  />
                  <path
                    d="M120,120 C200,95 250,60 300,30 C350,0 400,-15 400,-15 L400,80 C350,80 300,80 250,80 C200,85 150,90 120,120 Z"
                    fill="var(--landing-primary-lightest)"
                    opacity="0.4"
                  />
                  <g transform="translate(20, 20)">
                    <rect
                      x="0"
                      y="0"
                      width="10"
                      height="10"
                      fill="none"
                      stroke="#64748b"
                      stroke-width="2"
                    />
                    <text x="15" y="9" font-size="10" fill="#64748b">Énergie Traditionnelle</text>
                    <rect
                      x="0"
                      y="20"
                      width="10"
                      height="10"
                      fill="none"
                      stroke="var(--landing-primary)"
                      stroke-width="2"
                    />
                    <text x="15" y="29" font-size="10" fill="var(--landing-primary)">
                      Énergie Solaire
                    </text>
                    <rect
                      x="0"
                      y="40"
                      width="10"
                      height="10"
                      fill="var(--landing-primary-lightest)"
                    />
                    <text x="15" y="49" font-size="10" fill="var(--landing-secondary)">
                      Économies
                    </text>
                  </g>
                </svg>
              </div>
              <div class="hero-card__kpis">
                <div>
                  <div class="hero-card__kpi-label">Seuil de rentabilité</div>
                  <div class="hero-card__kpi-value"><span>3-4</span> ans</div>
                </div>
                <div>
                  <div class="hero-card__kpi-label">Économies à 25 ans</div>
                  <div class="hero-card__kpi-value">+ <span>72%</span></div>
                </div>
              </div>
            </div>
            } @else {
            <div class="hero-card__panel hero-card__panel--fixed-height">
              <div class="hero-compare">
                <div class="hero-compare__card">
                  <div class="hero-compare__title">Système Traditionnel</div>
                  <div class="hero-compare__row">
                    <div>
                      <div class="hero-compare__label">Coût initial</div>
                      <div class="hero-compare__value">45,000 TND</div>
                    </div>
                    <div>
                      <div class="hero-compare__label">Délai</div>
                      <div class="hero-compare__value">6-8 mois</div>
                    </div>
                  </div>
                  <div class="hero-compare__footer">
                    <div class="hero-compare__label">Coût moyen annuel</div>
                    <div class="hero-compare__value">4,200 TND</div>
                  </div>
                </div>
                <div class="hero-compare__card hero-compare__card--accent">
                  <div class="hero-compare__title">Solution JOYA</div>
                  <div class="hero-compare__row">
                    <div>
                      <div class="hero-compare__label">Coût initial</div>
                      <div class="hero-compare__value">0 TND</div>
                    </div>
                    <div>
                      <div class="hero-compare__label">Délai</div>
                      <div class="hero-compare__value">2-3 mois</div>
                    </div>
                  </div>
                  <div class="hero-compare__footer">
                    <div class="hero-compare__label">Coût moyen annuel</div>
                    <div class="hero-compare__value">2,520 TND</div>
                  </div>
                </div>
              </div>
            </div>
            }
          </div>
          <div class="hero-card__cta">
            <a
              class="hero__btn hero__btn--primary hero__btn--full hero__btn--sm"
              href="/audit-solaire"
            >
              <span>Obtenir une estimation personnalisée</span>
              <svg class="hero__btn-icon" viewBox="0 0 20 20" fill="currentColor">
                <path
                  fill-rule="evenodd"
                  d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z"
                  clip-rule="evenodd"
                />
              </svg>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<div class="hero__deco-1"></div>
<div class="hero__deco-2"></div>
