<nav
  class="navbar"
  [class.navbar--scrolled]="shouldShowScrolled()"
  [class.navbar--hidden]="isNavbarHidden()"
  role="navigation"
  aria-label="Main navigation"
>
  <div class="navbar-container">
    <div class="navbar-content">
      <!-- Logo -->
      <a routerLink="/" class="navbar-logo">
        <img src="/logo_big.webp" alt="JOYA Energy" class="navbar-logo-image" />
      </a>

      <!-- Desktop Navigation Links -->
      <ul class="navbar-links" role="list">
        @for (link of navLinks; track link.id) {
        <li>
          @if (link.path === '#') {
          <a
            href="#"
            class="navbar-link"
            [attr.aria-label]="link.label"
            [attr.data-link-id]="link.id"
          >
            {{ link.label }}
          </a>
          } @else {
          <a
            [routerLink]="link.path"
            class="navbar-link"
            [attr.aria-label]="link.label"
            [attr.data-link-id]="link.id"
          >
            {{ link.label }}
          </a>
          }
        </li>
        }
      </ul>

      <!-- CTA Buttons -->
      <div class="navbar-ctas">
        <a
          routerLink="/prendre-rendez-vous"
          class="navbar-cta navbar-cta--primary"
          aria-label="Demande de financement"
        >
          parler à un conseiller
        </a>
        <a
          routerLink="/audit-solaire"
          class="navbar-cta navbar-cta--secondary"
          aria-label="Audit Énergétique"
        >
          Audit solaire
        </a>
      </div>

      <!-- Mobile Menu Toggle -->
      <button
        type="button"
        class="navbar-toggle"
        [class.navbar-toggle--active]="isMobileMenuOpen()"
        (click)="toggleMobileMenu()"
        [attr.aria-expanded]="isMobileMenuOpen()"
        aria-controls="mobile-menu"
        aria-label="Toggle navigation menu"
      >
        <span class="navbar-toggle-icon"></span>
        <span class="navbar-toggle-icon"></span>
        <span class="navbar-toggle-icon"></span>
      </button>
    </div>

    <!-- Mobile Navigation -->
    @if (isMobileMenuOpen()) {
    <div id="mobile-menu" class="navbar-mobile" role="navigation" aria-label="Mobile navigation">
      <ul class="navbar-mobile-links" role="list">
        @for (link of navLinks; track link.id) {
        <li>
          @if (link.path === '#') {
          <a
            href="#"
            class="navbar-mobile-link"
            (click)="closeMobileMenu()"
            [attr.aria-label]="link.label"
            [attr.data-link-id]="link.id"
          >
            {{ link.label }}
          </a>
          } @else {
          <a
            [routerLink]="link.path"
            class="navbar-mobile-link"
            (click)="closeMobileMenu()"
            [attr.aria-label]="link.label"
            [attr.data-link-id]="link.id"
          >
            {{ link.label }}
          </a>
          }
        </li>
        }
      </ul>
      <div class="navbar-mobile-ctas">
        <a
          routerLink="/comparaison-financements"
          class="navbar-mobile-cta navbar-mobile-cta--primary"
          (click)="closeMobileMenu()"
          aria-label="Demande de financement"
        >
          Demande de financement
        </a>
        <a
          routerLink="/audit-solaire"
          class="navbar-mobile-cta navbar-mobile-cta--secondary"
          (click)="closeMobileMenu()"
          aria-label="Audit Énergétique"
        >
          Audit Solaire
        </a>
      </div>
    </div>
    }
  </div>
</nav>
