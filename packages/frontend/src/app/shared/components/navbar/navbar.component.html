<nav class="navbar" role="navigation" aria-label="Main navigation">
  <div class="container">
    <div class="navbar-content">
      <app-logo size="md" [showText]="true" />

      <ul class="navbar-links" role="list">
        @for (link of navLinks; track link.id) {
          <li>
            <a 
              [routerLink]="link.path"
              routerLinkActive="active"
              class="navbar-link"
              [attr.aria-current]="'page'"
            >
              {{ link.label }}
            </a>
          </li>
        }
      </ul>

      <a 
        href="/estimation" 
        class="btn btn-cta btn-md navbar-cta"
        aria-label="Get free energy estimation"
      >
        Estimation gratuite
      </a>

      <!-- Mobile Menu Toggle -->
      <button
        type="button"
        class="navbar-toggle"
        [class.active]="isMobileMenuOpen()"
        (click)="toggleMobileMenu()"
        [attr.aria-expanded]="isMobileMenuOpen()"
        aria-controls="mobile-menu"
        aria-label="Toggle navigation menu"
      >
        <span class="navbar-toggle-icon"></span>
        <span class="navbar-toggle-icon"></span>
        <span class="navbar-toggle-icon"></span>
      </button>
    </div>

    <!-- Mobile Navigation -->
    @if (isMobileMenuOpen()) {
      <div 
        id="mobile-menu"
        class="navbar-mobile animate-slide-in-down"
        role="navigation"
        aria-label="Mobile navigation"
      >
        <ul class="navbar-mobile-links" role="list">
          @for (link of navLinks; track link.id) {
            <li>
              <a 
                [routerLink]="link.path"
                routerLinkActive="active"
                class="navbar-mobile-link"
                (click)="closeMobileMenu()"
                [attr.aria-current]="'page'"
              >
                {{ link.label }}
              </a>
            </li>
          }
        </ul>
        <a 
          href="/estimation" 
          class="btn btn-cta btn-lg btn-block"
          (click)="closeMobileMenu()"
          aria-label="Get free energy estimation"
        >
          Estimation gratuite
        </a>
      </div>
    }
  </div>
</nav>
